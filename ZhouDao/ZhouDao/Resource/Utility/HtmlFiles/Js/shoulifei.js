$(document).ready(function(){
    $(".all").click(function(){
        $(this).addClass('active');
        $(".half").removeClass('active');
    });
    $(".half").click(function(){
        $(this).addClass('active');
        $(".all").removeClass('active');
    });
    $(".sub").click(function(){
        var num = parseFloat($(".ipt").val());
        var ah = $(".active").val();
        var lh = parseFloat($("#lh").find("option:selected").val());
        var rg = parseFloat($("#rg").find("option:selected").val());
        var qb=0;

        //判断输入的数据是否合法
        var number = $(".ipt").val();
        if(number == ""){
            alert("请输入金额");
            return false;
        }
        if(isNaN(number)){
            alert('请输入数字');
            number.text(0);
            return false;
        }
        if(number <= 0){
            alert('输入的金额需大于0');
            number.text(0);
            return false;
        }
        
        //设置全额或减半的参数
        if(ah == 2){
            qb=0.5;
        }else{
            qb=1;
        }

        //财产案件计算
        
        var caichan = 0;
        if(num <= 10000){
            caichan = 50*qb;
        }else if( num > 10000 && num <= 100000){
            caichan = (50+(num-10000)*0.025)*qb;
        }else if( num > 100000 && num <= 200000){
            caichan = (50+90000*0.025+(num-100000)*0.02)*qb;
        }else if( num >200000 && num <= 500000 ){
            caichan = (50+90000*0.025+100000*0.02+(num-200000)*0.015)*qb;
        }else if( num >500000 && num <= 1000000){
            caichan = (50+90000*0.025+100000*0.02+300000*0.015+(num-500000)*0.01)*qb;
        }else if( num >1000000 && num <= 2000000){
            caichan = (50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+(num-1000000)*0.009)*qb;
        }else if( num >2000000 && num <= 5000000){
            caichan = (50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+1000000*0.009+(num-2000000)*0.008)*qb;
        }else if( num > 5000000 && num <= 10000000){
            caichan = (50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+1000000*0.009+3000000*0.008+(num-5000000)*0.007)*qb;
        }else if( num > 10000000 && num <= 20000000){
            caichan=(50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+1000000*0.009+3000000*0.008+5000000*0.007+(num-10000000)*0.006)*qb;
        }else{
            caichan = (50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+1000000*0.009+3000000*0.008+5000000*0.007+10000000*0.006+(num-20000000)*0.005)*qb;
        }
        $(".caichan").text(caichan);
        
        //破产案件计算
        
        var pochan = 0;
        
        if( num <= 10000){
            pochan = 50*0.5;
        }else if( num > 10000 && num <= 100000){
            pochan = (50+(num-10000)*0.025)*0.5;
        }else if( num >100000 && num <= 200000){
            pochan = (50+90000*0.025+(num-100000)*0.02)*0.5;
        }else if( num >200000 && num <= 500000){
            pochan = (50+90000*0.025+100000*0.02+(num-200000)*0.015)*0.5;
        }else if( num >500000 && num <= 1000000){
            pochan = (50+90000*0.025+100000*0.02+300000*0.015+(num-500000)*0.01)*0.5;
        }else if( num > 1000000 && num <= 2000000){
            pochan = (50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+(num-1000000)*0.009)*0.5;
        }else if( num > 2000000 && num <= 5000000){
            pochan = (50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+1000000*0.009+(num-2000000)*0.008)*0.5;
        }else if( num > 5000000 && num <= 10000000){
            pochan = (50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+1000000*0.009+3000000*0.008+(num-5000000)*0.007)*0.5;
        }else if( num > 10000000 && num <= 20000000){
            pochan = (50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+1000000*0.009+3000000*0.008+5000000*0.007+(num-10000000)*0.006)*0.5;
        }else {
            pochan = (50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+1000000*0.009+3000000*0.008+5000000*0.007+10000000*0.006+(num-20000000)*0.005)*0.5;
        }
        if( pochan > 300000){
            pochan = 300000;
        }
        $(".pochan").text(pochan);
        
        
        // 离婚案件(涉及财产)计算
        
        var lihun = 0;
        
        if( num <= 200000){

            lihun = lh*qb;
        }else{
            lihun = (lh + (num-200000)*0.005 )*qb;
        }
        $(".lihun").text(lihun);

        
        //人格权侵权损害赔偿计算
        
        var renge = 0;

        if(num <= 50000){
            renge = rg * qb;
        }else if( num > 50000 && num <= 100000){
            renge = (rg+(num-50000)*0.01)*qb;
        }else {
            renge = (rg+ 50000*0.005 +(num-50000)*0.005)*qb;
        }
        
        $(".renge").text(renge);
        
        //申请支付令计算
        
        var pay = 0;
        if( num <= 10000){
            pay = 50*(1/3);
        }else if( num >10000 && num <= 100000){
            pay = (50+(num-10000)*0.025)*(1/3);
        }else if( num >100000 && num <= 200000){
            pay = (50+90000*0.025+(num-100000)*0.02)*(1/3);
        }else if( num > 200000 && num <= 500000){
            pay = (50+90000*0.025+100000*0.02+(num-200000)*0.015)*(1/3);
        }else if( num > 500000 && num <= 1000000){
            pay = (50+90000*0.025+100000*0.02+300000*0.015+(num-500000)*0.01)*(1/3);
        }else if( num > 1000000 && num <= 2000000){
            pay = (50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+(num-1000000)*0.009)*(1/3);
        }else if( num > 2000000 && num <= 5000000){
            pay = (50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+1000000*0.009+(num-2000000)*0.008)*(1/3);
        }else if( num > 5000000 && num <= 10000000){
            pay = (50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+1000000*0.009+3000000*0.008+(num-5000000)*0.007)*(1/3);
        }else if( num > 10000000 && num <= 20000000){
            pay = (50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+1000000*0.009+3000000*0.008+5000000*0.007+(num-10000000)*0.006)*(1/3);
        }else {
            pay = (50+90000*0.025+100000*0.02+300000*0.015+500000*0.01+1000000*0.009+3000000*0.008+5000000*0.007+10000000*0.006+(num-20000000)*0.005)*(1/3)
        }
        $(".pay").text(pay.toFixed(2));
        
        return false;  
        
    });

    $(".reset").click(function(){
        $(".caichan, .pay, .renge, .lihun, .pochan").text(00);
    });
});